---
title: CI2Go for macOS ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸ
description: CircleCI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã® CI2Go macOS ç‰ˆã‚’å…¬é–‹ã—ã¾ã—ãŸã€‚
date: 2020-05-15 00:00
public: true
tags: ci2go, ios, macos, release, maccatalyst, circleci, ci
alternate: true
ogp:
  og:
    image:
      '': 2020-05-15-ci2go-maccatalyst/main.jpg
      type: image/jpeg
      width: 992
      height: 525
---

![](main.jpg)

iPhone, iPad, Apple Watch å‘ã‘ CircleCI ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ [CI2Go] ã® macOS ç‰ˆã‚’å…¬é–‹ã—ã¾ã—ãŸã€‚

iOS ç‰ˆ, macOS ç‰ˆ å…±ã«åŒã˜ URL ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã„ãŸã ã‘ã¾ã™ã€‚

[![](/images/appstore.svg.svg)][AppStore]

è£½å“ã‚µã‚¤ãƒˆ: [ci2go.app]

ã“ã®ã‚¢ãƒ—ãƒªã¯ã€æ—¢å­˜ iOS ã‚¢ãƒ—ãƒªã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’ [Mac Catalyst] ã‚’ç”¨ã„ã¦ç§»æ¤ã—ãŸã‚‚ã®ã§ã™ã€‚

READMORE

iOS ç‰ˆ, mac ç‰ˆ ä¸¡æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã€ä»¥ä¸‹ã®æ–°æ©Ÿèƒ½ã‚’å«ã¿ã¾ã™ã€‚

## ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰

![](dark-and-light.jpg)

[ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰] ã«å¯¾å¿œã—ã€ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ é¸æŠã®æ©Ÿèƒ½ã®æä¾›ã‚’çµ‚äº†ã—ã¾ã—ãŸã€‚

## iPad ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

![](shortcuts.png)

iPad ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆãŒåˆ©ç”¨ã„ãŸã ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

<kbd>&#x2318; \[</kbd> ã§æˆ»ã‚‹ã€<kbd>&#x2318; R</kbd> ã§å†èª­ã¿è¾¼ã¿ã€<kbd>&#8997; &#8679;ã€€&#x2318; L</kbd> ã§ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã‚’è¡Œã„ã¾ã™ã€‚

## WIP: Workflows

CircleCI [Workflows] ã®å¯¾å¿œã¯ã€ã¾ã å®Œå…¨ã«è¡Œã‚ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€å°†æ¥ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ã¯å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®èˆå°è£

![](workflow.png)

ã‚‚ã¡ã‚ã‚“ã€Mac Catalyst ã‚¢ãƒ—ãƒªã®ç¶™ç¶šçš„ãƒ‡ãƒªãƒãƒªãƒ¼ã‚‚ã€iOS ç‰ˆåŒæ§˜è¨­å®šã—ã¾ã—ãŸã€‚

ã¾ãŸã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã‚’ [Carthage] ã‹ã‚‰ [Swift Package Manager] ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚

ã“ã‚Œã‚‰ã¯ã€å…¬é–‹ [GitHub ãƒªãƒã‚¸ãƒˆãƒª] ã«å«ã¾ã‚Œã¦ãŠã‚Šã€ã©ãªãŸã§ã‚‚é–²è¦§ã„ãŸã ã‘ã¾ã™ã€‚

ç§ã®ã‚ˆã†ã« Mac Catalyst ã®ã‚¢ãƒ—ãƒªã‚’ CircleCI ã§æ§‹ç¯‰ã—ã‚ˆã†ã¨ã™ã‚‹ã€ä»–ã®é–‹ç™ºè€…ã®åŠ©ã‘ã«ãªã‚Œã°ã¨å¹¸ã„ã§ã™ã€‚

ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’è¡Œã£ãŸã‚Šã—ã¾ã—ãŸã€‚

- macOS ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã€ä¾å­˜ãƒ“ãƒ«ãƒ‰ã‚’å«ã‚€ã¨ Swift ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã™ã‚‹ã€‚
    - ä¾‹: `multiple configured targets of 'KeychainAccess' are being created for macOS`
    - ãƒ“ãƒ«ãƒ‰ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’è¤‡è£½ã—ã€ä¾å­˜ãƒ“ãƒ«ãƒ‰ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚
    - å‚ç…§: [Swift PM app in Xcode 11 (beta 5) gets four â€œMy Macâ€ platform options]
- [fastlane match] ã§ Mac Catalyst å‘ã‘ã®ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ãŒä½œæˆã§ããªã„
    - `platform: 'macos'` ã‚’æŒ‡å®šã™ã‚‹ã¨ Mac å‘ã‘ã®ã‚‚ã®ãŒä½œã‚‰ã‚Œã‚‹ã€‚
    - `skip_provisioning_profiles` ã‚’ `true` ã«è¨­å®šã€`.provisioningprofile` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã«è¿½åŠ ã—ã€CI ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ ` ~/Library/MobileDevice/Provisioning Profiles/` ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚

        ```rb
        match(
          type: 'development',
          app_identifier: %w(com.ci2go.ios.Circle),
          skip_provisioning_profiles: true,
          platform: 'macos'
        )
        ```

- [fastlane deliver] ãŒ `reject_if_possible: true` ã‚’è¨­å®šã—ãŸå†ã€`platform` ã‚’ `osx` ã«è¨­å®šã—ã¦ã‚‚ã€iOS ã®ãƒã‚¤ãƒŠãƒªãƒ¼ã‚’å–ã‚Šä¸‹ã’ã‚‹ã€‚
    - ä»Šã®æ‰€ Mac ç‰ˆã§ã¯ã€ `reject_if_possible` ã‚’ `false` ã«è¨­å®šã—ã€æ–°ã—ã„ãƒã‚¤ãƒŠãƒªãƒ¼ã‚’æå‡ºã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯æ‰‹å‹•ã§å–ã‚Šä¸‹ã’ã¦ã„ã¾ã™ã€‚
- [fastlane deliver] ãŒ Mac ã‚¢ãƒ—ãƒªã®å¯©æŸ»æå‡ºã«å¤±æ•—ã™ã‚‹ã€‚
    - [Spaceship] ãŒ App Store Connect API ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã«å¯¾å¿œã§ãã¦ã„ãªã„æ§˜å­ã€‚
    - ref: [tunes_client.rb]
    - ä¾‹å¤–ã‚’ `rescue` ã—ã¦ã„ã¾ã™ã€‚

        ```rb
        rescue NoMethodError => e
          puts e
          raise e unless e.message == %q(undefined method `fetch' for nil:NilClass)
          puts "... Caught error, but omitting"
        end
        ```

## å¿œæ´ã™ã‚‹

[GitHub Sponsors] ã®ãƒšãƒ¼ã‚¸ã‚’å…¬é–‹ã—ã¾ã—ãŸã€‚ã‚‚ã—ã‚ˆã‹ã£ãŸã‚‰ CI2Go ã®é–‹ç™ºã‚’å¿œæ´ã—ã¦ãã ã•ã„ ğŸ™‡â€â™‚ï¸

[CI2Go]: https://ci2go.app
[Mac Catalyst]: https://developer.apple.com/mac-catalyst/
[ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰]: https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/dark-mode/
[Workflows]: https://circleci.com/docs/ja/2.0/workflows/
[AppStore]: https://itunes.apple.com/app/id940028427?mt=8
[GitHub ãƒªãƒã‚¸ãƒˆãƒª]: https://github.com/ngs/ci2go
[Swift Package Manager]:https://swift.org/package-manager/
[Carthage]: https://github.com/Carthage/Carthage
[fastlane match]: https://docs.fastlane.tools/actions/match/
[fastlane deliver]: https://docs.fastlane.tools/actions/deliver/
[Swift PM app in Xcode 11 (beta 5) gets four â€œMy Macâ€ platform options]: https://forums.swift.org/t/swift-pm-app-in-xcode-11-beta-5-gets-four-my-mac-platform-options/27521
[tunes_client.rb]: https://github.com/fastlane/fastlane/blob/feb8cc09c9976f7f460203cf9486fd28d31f6955/spaceship/lib/spaceship/tunes/tunes_client.rb#L1138
[Spaceship]: https://github.com/fastlane/fastlane/tree/master/spaceship
[ci2go.app]: https://ci2go.app
[GitHub Sponsors]: https://github.com/sponsors/ngs